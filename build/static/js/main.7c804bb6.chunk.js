(this["webpackJsonpmy-react-pwa"]=this["webpackJsonpmy-react-pwa"]||[]).push([[0],{15:function(e,t,n){},17:function(e,t,n){},19:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),a=n(10),o=n.n(a),i=(n(15),n(9)),s=n(5),u=n.n(s),l=n(3),h=n(8),d=n(2),b=(n(17),n(0));var p=function(){var e=r.a.useState("\u8bf7\u8f93\u5165\u6587\u4ef6"),t=Object(d.a)(e,2),n=t[0],a=t[1],o=r.a.useState("\u8bf7\u8f93\u5165\u6587\u4ef6"),s=Object(d.a)(o,2),p=s[0],f=s[1],j=r.a.useState(),v=Object(d.a)(j,2),g=v[0],w=v[1],O=r.a.useState(),x=Object(d.a)(O,2),k=(x[0],x[1]),m=r.a.useState(),C=Object(d.a)(m,2),y=C[0],S=C[1],A=r.a.useState(),N=Object(d.a)(A,2),R=N[0],T=N[1],W=r.a.useState(),U=Object(d.a)(W,2),F=U[0],M=U[1],D=r.a.useState(),E=Object(d.a)(D,2),L=E[0],P=E[1],B=r.a.useState(),G=Object(d.a)(B,2),J=G[0],I=G[1];function $(){return q.apply(this,arguments)}function q(){return(q=Object(h.a)(u.a.mark((function e(){var t,n,c,r,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://127.0.0.1:8000/config/get/ATG");case 2:return t=e.sent,e.next=5,t.json();case 5:t=e.sent,console.log(t),k(t),w(t.currentChapters),S(Math.max.apply(Math,Object(i.a)(t.currentRow[0]))),T(Math.max.apply(Math,Object(i.a)(t.currentRow[1]))),M(t.history),console.log(t.currentRow,234234),n=t.currentChapters,c=0,r=["chinese","english"];case 15:if(!(c<r.length)){e.next=36;break}return o=r[c],e.next=19,fetch("http://127.0.0.1:8000/ATG/".concat(o,"/").concat(n));case 19:return t=e.sent,e.next=22,t.json();case 22:t=e.sent,console.log(t),e.t0=o,e.next="chinese"===e.t0?27:"english"===e.t0?30:33;break;case 27:return a(t),S((function(e){return P(t[e]),e})),e.abrupt("break",33);case 30:return f(t),T((function(e){return I(t[e]),e})),e.abrupt("break",33);case 33:c++,e.next=15;break;case 36:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(e,t){var n=new FileReader;n.onload=function(t){var n=t.target.result.split("\n");switch(e){case 0:a(n);break;case 1:f(n)}},n.readAsText(t.target.files[0])}function H(e,t,c){var r=[[y],[R]];function a(e,t){return o.apply(this,arguments)}function o(){return(o=Object(h.a)(u.a.mark((function e(t,n){var c,r,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=JSON.stringify(t),r="http://127.0.0.1:8000/config/update/ATG?config=".concat(c),e.next=4,fetch(r);case 4:return a=e.sent,e.next=7,a.json();case 7:a=e.sent,console.log(1234,a,c),n&&$();case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function i(){var e=t?y+1:y-1;return S(e),P(n[e]),e>=n.length?"over":e<0?"pass":(r[0]=[e],void k((function(e){return a(e=Object(l.a)(Object(l.a)({},e),{},{currentRow:r})),e})))}function s(){var e=t?R+1:R-1;return T(e),I(p[e]),e>=p.length?"over":e<0?"pass":(r[1]=[e],console.log(r,e,R,"hhhhh"),void k((function(e){return e=Object(l.a)(Object(l.a)({},e),{},{currentRow:r}),console.log(e,r,"6666"),a(e),e})))}function d(e){k((function(t){var n="up"==e?t.currentChapters-1:t.currentChapters+1;return a(t=Object(l.a)(Object(l.a)({},t),{},{currentChapters:n,currentRow:[[0],[0]]}),!0),t}))}switch(e){case"all":var b=i(),f=s();"pass"==b&&"pass"==f&&d("up"),"over"==b&&"over"==f&&d("down");break;case 0:i();break;case 1:s();break;case"chapterUp":d("up");break;case"chapterDown":d("down")}}return Object(c.useEffect)((function(){$()}),[]),Object(b.jsx)("div",{className:"App",children:Object(b.jsxs)("div",{className:"container",children:[Object(b.jsxs)("div",{className:"file",children:[Object(b.jsx)("input",{type:"file",id:"input",onChange:z.bind(this,0)}),Object(b.jsx)("input",{type:"file",id:"input2",onChange:z.bind(this,1)})]}),Object(b.jsxs)("div",{children:["\u7b2c",g,"\u7ae0, ",y,"\u884c, ",R,"\u884c, ",F?F[1][0][0][1]:void 0]}),Object(b.jsxs)("div",{id:"reader",className:"content",children:[Object(b.jsx)("div",{children:L}),Object(b.jsx)("div",{children:J})]}),Object(b.jsxs)("div",{className:"footer",children:[Object(b.jsx)("button",{id:"up",onClick:H.bind(this,0,0),children:"\u4e0a0"}),Object(b.jsx)("button",{id:"down",onClick:H.bind(this,0,1),children:"\u4e0b0"}),Object(b.jsx)("button",{id:"up2",onClick:H.bind(this,1,0),children:"\u4e0a1"}),Object(b.jsx)("button",{id:"down2",onClick:H.bind(this,1,1),children:"\u4e0b1"}),Object(b.jsx)("button",{id:"upAll",onClick:H.bind(this,"all",0),children:"\u4e0a\u5168"}),Object(b.jsx)("button",{id:"downAll",onClick:H.bind(this,"all",1),children:"\u4e0b\u5168"}),Object(b.jsx)("button",{id:"chapterUp",onClick:H.bind(this,"chapterUp",0),children:"\u4e0a\u7ae0"}),Object(b.jsx)("button",{id:"chapterDown",onClick:H.bind(this,"chapterDown",1),children:"\u4e0b\u7ae0"})]})]})})},f=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function j(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var v=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,20)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),c(e),r(e),a(e),o(e)}))};o.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(p,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");f?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var c=n.headers.get("content-type");404===n.status||null!=c&&-1===c.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):j(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):j(t,e)}))}}(),v()}},[[19,1,2]]]);
//# sourceMappingURL=main.7c804bb6.chunk.js.map