(this["webpackJsonpmy-react-pwa"]=this["webpackJsonpmy-react-pwa"]||[]).push([[0],{16:function(e,t,n){},18:function(e,t,n){},20:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),a=n(10),o=n.n(a),i=(n(16),n(9)),s=n(5),u=n.n(s),l=n(3),h=n(8),d=n(2),b=(n(18),n(11)),p=n(0);var f=function(){var e=r.a.useState("\u8bf7\u8f93\u5165\u6587\u4ef6"),t=Object(d.a)(e,2),n=t[0],a=t[1],o=r.a.useState("\u8bf7\u8f93\u5165\u6587\u4ef6"),s=Object(d.a)(o,2),f=s[0],j=s[1],v=r.a.useState(),g=Object(d.a)(v,2),w=g[0],O=g[1],x=r.a.useState(),k=Object(d.a)(x,2),m=(k[0],k[1]),C=r.a.useState(),y=Object(d.a)(C,2),S=y[0],A=y[1],N=r.a.useState(),R=Object(d.a)(N,2),T=R[0],W=R[1],U=r.a.useState(),F=Object(d.a)(U,2),M=F[0],D=F[1],E=r.a.useState(),L=Object(d.a)(E,2),P=L[0],B=L[1],G=r.a.useState(),J=Object(d.a)(G,2),I=J[0],$=J[1];function q(){return z.apply(this,arguments)}function z(){return(z=Object(h.a)(u.a.mark((function e(){var t,n,c,r,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://127.0.0.1:8000/config/get/ATG");case 2:return t=e.sent,e.next=5,t.json();case 5:t=e.sent,console.log(t),m(t),O(t.currentChapters),A(Math.max.apply(Math,Object(i.a)(t.currentRow[0]))),W(Math.max.apply(Math,Object(i.a)(t.currentRow[1]))),D(t.history),console.log(t.currentRow,234234),n=t.currentChapters,c=0,r=["chinese","english"];case 15:if(!(c<r.length)){e.next=36;break}return o=r[c],e.next=19,fetch("http://127.0.0.1:8000/ATG/".concat(o,"/").concat(n));case 19:return t=e.sent,e.next=22,t.json();case 22:t=e.sent,console.log(t),e.t0=o,e.next="chinese"===e.t0?27:"english"===e.t0?30:33;break;case 27:return a(t),A((function(e){return B(t[e]),e})),e.abrupt("break",33);case 30:return j(t),W((function(e){return $(t[e]),e})),e.abrupt("break",33);case 33:c++,e.next=15;break;case 36:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function H(e,t){var n=new FileReader;n.onload=function(t){var n=t.target.result.split("\n");switch(e){case 0:a(n);break;case 1:j(n)}},n.readAsText(t.target.files[0])}function K(e,t,c){var r=[[S],[T]];function a(e,t){return o.apply(this,arguments)}function o(){return(o=Object(h.a)(u.a.mark((function e(t,n){var c,r,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=JSON.stringify(t),r="http://127.0.0.1:8000/config/update/ATG?config=".concat(c),e.next=4,fetch(r);case 4:return a=e.sent,e.next=7,a.json();case 7:a=e.sent,console.log(1234,a,c),n&&q();case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function i(){var e=t?S+1:S-1;return A(e),B(n[e]),e>=n.length?"over":e<0?"pass":(r[0]=[e],void m((function(e){return a(e=Object(l.a)(Object(l.a)({},e),{},{currentRow:r})),e})))}function s(){var e=t?T+1:T-1;return W(e),$(f[e]),e>=f.length?"over":e<0?"pass":(r[1]=[e],console.log(r,e,T,"hhhhh"),void m((function(e){return e=Object(l.a)(Object(l.a)({},e),{},{currentRow:r}),console.log(e,r,"6666"),a(e),e})))}function d(e){m((function(t){var n="up"==e?t.currentChapters-1:t.currentChapters+1;return a(t=Object(l.a)(Object(l.a)({},t),{},{currentChapters:n,currentRow:[[0],[0]]}),!0),t}))}switch(e){case"all":var b=i(),p=s();"pass"==b&&"pass"==p&&d("up"),"over"==b&&"over"==p&&d("down");break;case 0:i();break;case 1:s();break;case"chapterUp":d("up");break;case"chapterDown":d("down")}}return Object(c.useEffect)((function(){q()}),[]),Object(p.jsx)("div",{className:"App",children:Object(p.jsxs)(b.a,{className:"container",children:[Object(p.jsxs)("div",{className:"file",children:[Object(p.jsx)("input",{type:"file",id:"input",onChange:H.bind(this,0)}),Object(p.jsx)("input",{type:"file",id:"input2",onChange:H.bind(this,1)})]}),Object(p.jsxs)("div",{children:["\u7b2c",w,"\u7ae0, ",S,"\u884c, ",T,"\u884c, ",M?M[1][0][0][1]:void 0]}),Object(p.jsxs)("div",{id:"reader",className:"content",children:[Object(p.jsx)("div",{children:P}),Object(p.jsx)("div",{children:I})]}),Object(p.jsxs)("div",{className:"footer",children:[Object(p.jsx)("button",{id:"up",onClick:K.bind(this,0,0),children:"\u4e0a0"}),Object(p.jsx)("button",{id:"down",onClick:K.bind(this,0,1),children:"\u4e0b0"}),Object(p.jsx)("button",{id:"up2",onClick:K.bind(this,1,0),children:"\u4e0a1"}),Object(p.jsx)("button",{id:"down2",onClick:K.bind(this,1,1),children:"\u4e0b1"}),Object(p.jsx)("button",{id:"upAll",onClick:K.bind(this,"all",0),children:"\u4e0a\u5168"}),Object(p.jsx)("button",{id:"downAll",onClick:K.bind(this,"all",1),children:"\u4e0b\u5168"}),Object(p.jsx)("button",{id:"chapterUp",onClick:K.bind(this,"chapterUp",0),children:"\u4e0a\u7ae0"}),Object(p.jsx)("button",{id:"chapterDown",onClick:K.bind(this,"chapterDown",1),children:"\u4e0b\u7ae0"})]})]})})},j=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function v(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var g=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,21)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),c(e),r(e),a(e),o(e)}))};o.a.render(Object(p.jsx)(r.a.StrictMode,{children:Object(p.jsx)(f,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL(".",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat(".","/service-worker.js");j?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var c=n.headers.get("content-type");404===n.status||null!=c&&-1===c.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):v(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):v(t,e)}))}}(),g()}},[[20,1,2]]]);
//# sourceMappingURL=main.0ad47723.chunk.js.map