(this["webpackJsonpmy-react-pwa"]=this["webpackJsonpmy-react-pwa"]||[]).push([[0],{16:function(e,t,n){},18:function(e,t,n){},20:function(e,t,n){"use strict";n.r(t);var a,c=n(1),r=n.n(c),i=n(10),o=n.n(i),s=(n(16),n(9)),u=n(5),d=n.n(u),l=n(3),h=n(8),p=n(2),b=(n(18),n(11)),f=n(0);window.addEventListener("gamepadconnected",(function(e){var t=navigator.getGamepads()[e.gamepad.index];console.log("Gamepad connected at index %d: %s. %d buttons, %d axes.",t.index,t.id,t.buttons.length,t.axes.length),a=e.gamepad.index}));var j=[!1,!1,!1,!1,!1,!1];setInterval((function(){void 0!==a&&navigator.getGamepads()[a].buttons.forEach((function(e,t){for(var n=0,a=[[0,"#up"],[1,"#down"],[2,"#up2"],[3,"#down2"],[4,"#upAll"],[5,"#downAll"]];n<a.length;n++){var c=Object(p.a)(a[n],2),r=c[0],i=c[1];t==r&&(e.pressed?(0==j[r]&&document.querySelector(i).click(),j[r]=!0):j[r]=!1)}}))}),100);var v=function(){var e=r.a.useState(),t=Object(p.a)(e,2);t[0],t[1],document.addEventListener("keydown",(function(e){}));var n=r.a.useState("\u8bf7\u8f93\u5165\u6587\u4ef6"),a=Object(p.a)(n,2),i=a[0],o=a[1],u=r.a.useState("\u8bf7\u8f93\u5165\u6587\u4ef6"),j=Object(p.a)(u,2),v=j[0],g=j[1],w=r.a.useState(),O=Object(p.a)(w,2),x=O[0],k=O[1],m=r.a.useState(),y=Object(p.a)(m,2),C=(y[0],y[1]),S=r.a.useState(),A=Object(p.a)(S,2),N=A[0],T=A[1],W=r.a.useState(),E=Object(p.a)(W,2),R=E[0],G=E[1],L=r.a.useState(),U=Object(p.a)(L,2),F=U[0],M=U[1],D=r.a.useState(),P=Object(p.a)(D,2),B=P[0],I=P[1],J=r.a.useState(),q=Object(p.a)(J,2),$=q[0],z=q[1];function H(){return K.apply(this,arguments)}function K(){return(K=Object(h.a)(d.a.mark((function e(){var t,n,a,c,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://127.0.0.1:8000/config/get/ATG");case 2:return t=e.sent,e.next=5,t.json();case 5:t=e.sent,C(t),k(t.currentChapters),T(Math.max.apply(Math,Object(s.a)(t.currentRow[0]))),G(Math.max.apply(Math,Object(s.a)(t.currentRow[1]))),M(t.history),n=t.currentChapters,a=0,c=["chinese","english"];case 13:if(!(a<c.length)){e.next=33;break}return r=c[a],e.next=17,fetch("http://127.0.0.1:8000/ATG/".concat(r,"/").concat(n));case 17:return t=e.sent,e.next=20,t.json();case 20:t=e.sent,e.t0=r,e.next="chinese"===e.t0?24:"english"===e.t0?27:30;break;case 24:return o(t),T((function(e){return I(t[e]),e})),e.abrupt("break",30);case 27:return g(t),G((function(e){return z(t[e]),e})),e.abrupt("break",30);case 30:a++,e.next=13;break;case 33:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Q(e,t){var n=new FileReader;n.onload=function(t){var n=t.target.result.split("\n");switch(e){case 0:o(n);break;case 1:g(n)}},n.readAsText(t.target.files[0])}function V(e,t,n){var a=[[N],[R]];function c(e,t){return r.apply(this,arguments)}function r(){return(r=Object(h.a)(d.a.mark((function e(t,n){var a,c,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=JSON.stringify(t),c="http://127.0.0.1:8000/config/update/ATG?config=".concat(a),e.next=4,fetch(c);case 4:return r=e.sent,e.next=7,r.json();case 7:r=e.sent,n&&H();case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function o(){var e=t?N+1:N-1;return T(e),I(i[e]),e>=i.length?"over":e<0?"pass":(a[0]=[e],void C((function(e){return c(e=Object(l.a)(Object(l.a)({},e),{},{currentRow:a})),e})))}function s(){var e=t?R+1:R-1;return G(e),z(v[e]),e>=v.length?"over":e<0?"pass":(a[1]=[e],void C((function(e){return c(e=Object(l.a)(Object(l.a)({},e),{},{currentRow:a})),e})))}function u(e){C((function(t){var n="up"==e?t.currentChapters-1:t.currentChapters+1;return c(t=Object(l.a)(Object(l.a)({},t),{},{currentChapters:n,currentRow:[[0],[0]]}),!0),t}))}switch(e){case"all":var p=o(),b=s();"pass"==p&&"pass"==b&&u("up"),"over"==p&&"over"==b&&u("down");break;case 0:o();break;case 1:s();break;case"chapterUp":u("up");break;case"chapterDown":u("down")}}return Object(c.useEffect)((function(){H()}),[]),Object(f.jsx)("div",{className:"App",children:Object(f.jsxs)(b.a,{className:"container",children:[Object(f.jsxs)("div",{className:"file",children:[Object(f.jsx)("input",{type:"file",id:"input",onChange:Q.bind(this,0)}),Object(f.jsx)("input",{type:"file",id:"input2",onChange:Q.bind(this,1)})]}),Object(f.jsxs)("div",{children:["\u7b2c",x,"\u7ae0, ",N,"\u884c, ",R,"\u884c, ",F?F[1][0][0][1]:void 0]}),Object(f.jsxs)("div",{id:"reader",className:"content",children:[Object(f.jsx)("div",{children:B}),Object(f.jsx)("br",{}),Object(f.jsx)("div",{children:$})]}),Object(f.jsxs)("div",{className:"footer",children:[Object(f.jsx)("button",{id:"up",onClick:V.bind(this,0,0),children:"\u4e0a0"}),Object(f.jsx)("button",{id:"down",onClick:V.bind(this,0,1),children:"\u4e0b0"}),Object(f.jsx)("button",{id:"up2",onClick:V.bind(this,1,0),children:"\u4e0a1"}),Object(f.jsx)("button",{id:"down2",onClick:V.bind(this,1,1),children:"\u4e0b1"}),Object(f.jsx)("button",{id:"upAll",onClick:V.bind(this,"all",0),children:"\u4e0a\u5168"}),Object(f.jsx)("button",{id:"downAll",onClick:V.bind(this,"all",1),children:"\u4e0b\u5168"}),Object(f.jsx)("button",{id:"chapterUp",onClick:V.bind(this,"chapterUp",0),children:"\u4e0a\u7ae0"}),Object(f.jsx)("button",{id:"chapterDown",onClick:V.bind(this,"chapterDown",1),children:"\u4e0b\u7ae0"})]})]})})},g=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function w(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var O=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,21)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),r(e),i(e)}))};o.a.render(Object(f.jsx)(r.a.StrictMode,{children:Object(f.jsx)(v,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL(".",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat(".","/service-worker.js");g?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):w(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):w(t,e)}))}}(),O()}},[[20,1,2]]]);
//# sourceMappingURL=main.60193e76.chunk.js.map